
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
	<link rel = "stylesheet" href = "./../../static/css/table.css" />
	<link rel = "stylesheet" href = "./../../static/css/navbar.css" />
    <style>
		table {
			margin-bottom: 20px;
		}
		.Heading {
		  color: white;
		  background: #536976;
		  background: linear-gradient(to right, #292e49, #455863);
		}
		.button_gray{
			color: #fff;
  			padding: 15px 15px;
  			border: none;
  			border-radius: 4px;
  			cursor: pointer;
  			margin-right: 10px;
			background: gray;
		}
	  </style>
    <title>{{ book.title }} - Book Details</title>
    </style>
  </head>

<body>

	<div class="topnav">
		<a href="{{url_for('user_view.home')}}">Home</a>
		<a href="{{url_for('books_view.show_all_books')}}">View Books</a>
		<a href="{{url_for('books_view.search_book')}}">Search Book</a>
		<a href="{{url_for('books_view.import_books')}}">Import Books</a>
	  </div>
	  {% with messages = get_flashed_messages() %}
    	{% if messages %}
        <ul class="flashes">
			<span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span>
            {% for message in messages %}
                <li>{{ message }}</li>
            {% endfor %}
        </ul>
    	{% endif %}
		{% endwith %}
	  <div>
    <h1 class = "Heading">{{ book.title }}</h1>
    
    <table>
        <tr>
            <td><strong>Book ID:</strong></td>
            <td>{{ book.id }}</td>
        </tr>
        <tr>
            <td><strong>Title:</strong></td>
            <td>{{ book.title }}</td>
        </tr>
        <tr>
            <td><strong>Authors:</strong></td>
            <td>{{ book.authors }}</td>
        </tr>
        <tr>
            <td><strong>Copies Available:</strong></td>
            <td>{{ book.quantity }}</td>
        </tr>
        <tr>
            <td><strong>Average Rating:</strong></td>
            <td>{{ book.average_rating }}</td>
        </tr>
        <tr>
            <td><strong>ISBN:</strong></td>
            <td>{{ book.isbn }}</td>
        </tr>
		<tr>
            <td><strong>ISBN13:</strong></td>
            <td>{{ book.isbn13 }}</td>
        </tr>
		<tr>
            <td><strong>Langauge Code:</strong></td>
            <td>{{ book.language_code }}</td>
        </tr>
		<tr>
            <td><strong>Number of Pages:</strong></td>
            <td>{{ book.num_pages }}</td>
        </tr>
		<tr>
            <td><strong>Ratings Count:</strong></td>
            <td>{{ book.ratings_count }}</td>
        </tr>
		<tr>
            <td><strong>Text Reviews Count:</strong></td>
            <td>{{ book.text_reviews_count }}</td>
        </tr>
		<tr>
            <td><strong>Publication Date:</strong></td>
            <td>{{ book.publication_date }}</td>
        </tr>
		<tr>
            <td><strong>Publisher:</strong></td>
            <td>{{ book.publisher }}</td>
        </tr>
    </table>

	<a href="{{ url_for('books_view.edit_book', id=book.id) }}" class = "button">Edit Book</a>
	{%if book.quantity > 0%}
    <a href="{{ url_for('books_view.issue_book', id=book.id) }}" class = "button">Issue Book</a>
	{% else %}
	<a href="" class = "button_gray" title = "Not allowed">Issue Book</a>
	{% endif %}
	<a href="{{ url_for('books_view.delete_book', id=book.id) }}" class = "button">Delete Book</a>
	<a href="{{ url_for('books_view.show_borrowers', id=book.id) }}" class = "button">View Borrowers</a>
	</d>
</body>
</html>